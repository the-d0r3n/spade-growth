'use client'
import React, {useState} from 'react';
import {Image} from "next/dist/client/image-component";
import talkToUs from "../../images/talkToUs.png";
import PrimaryButton from "../PrimaryButton";
import useMediaQuery from "../../hooks/useMediaQuery";
import {sendEmail} from "../../utils/sendEmail";
import {confirmEmail} from "../../utils/mail";


const TalkToUs = () => {
    const [email, setEmail] = useState('');
    const [message, setMessage] = useState('');
    const isMobile = useMediaQuery('(max-width: 768px)');

    const handleSubmit = async (e?: any) => {
        e.preventDefault();
        confirmEmail('yassin@spadegroup.io', email, message, null)
        // const data = {
        //     to: 'yassin@spadegroup.io',
        //     subject: email,
        //     text: message,
        // };
        //
        // try {
        //     const response = await fetch('/api/sendEmail', {
        //         method: 'POST',
        //         headers: {
        //             'Content-Type': 'application/json',
        //         },
        //         body: JSON.stringify(data),
        //     });
        //
        //     if (response.ok) {
        //
        //     } else {
        //         console.error('Failed to send email:', response.statusText);
        //     }
        // } catch (error) {
        //     console.error('Failed to send email:', error.message);
        // }
        console.log('Email:', email);
        console.log('Message:', message);
        setEmail('');
        setMessage('');
    };
    return (
        <section className="relative" style={{height: isMobile ? '95vh' : '80vh', marginTop: '-80px'}}>
            <div className="absolute inset-0">
                <Image
                    src={talkToUs}
                    alt="talkToUs"
                    layout="fill"
                    objectFit="cover"
                    quality={100}
                />

            </div>
            <div className={isMobile ? "flex flex-col h-full relative z-10" : "flex h-full relative z-10"  } >

                {!isMobile && <div className="mt-20 flex items-start justify-center w-6/12">
                    <svg width="552" height="76" viewBox="0 0 552 76" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M550.748 45.2765C550.683 47.4665 548.894 49.6926 545.181 51.893C541.497 54.0756 536.067 56.1438 529.048 58.069C515.017 61.9176 494.757 65.1642 469.737 67.6558C419.705 72.6383 350.718 74.5942 274.636 72.3395C198.555 70.0849 129.804 64.0471 80.1545 56.1105C55.3263 52.1417 35.2946 47.7011 21.5162 43.0284C14.6234 40.6909 9.32483 38.3048 5.77732 35.9078C2.20104 33.4914 0.547022 31.1633 0.611921 28.9733C0.67682 26.7834 2.4658 24.5572 6.1789 22.3569C9.86213 20.1742 15.2927 18.1061 22.3118 16.1808C36.3428 12.3323 56.6023 9.08566 81.622 6.59407C131.654 1.61159 200.642 -0.344327 276.723 1.91034C352.805 4.165 421.556 10.2028 471.205 18.1393C496.033 22.1081 516.065 26.5488 529.843 31.2215C536.736 33.559 542.035 35.9451 545.582 38.342C549.158 40.7584 550.812 43.0866 550.748 45.2765Z"
                            stroke="white"/>
                        <path
                            d="M34.1852 20.7H12.6852V5H75.3852V20.7H53.9852V75H34.1852V20.7ZM100.325 19.9C109.325 19.9 116.192 21.9667 120.925 26.1C125.658 30.1667 128.025 36.4333 128.025 44.9V75H110.325V68C107.592 73.2667 102.258 75.9 94.325 75.9C90.125 75.9 86.4917 75.1667 83.425 73.7C80.3583 72.2333 78.025 70.2667 76.425 67.8C74.8917 65.2667 74.125 62.4 74.125 59.2C74.125 54.0667 76.0917 50.1 80.025 47.3C83.9583 44.4333 90.025 43 98.225 43H109.025C108.692 37.2667 104.858 34.4 97.525 34.4C94.925 34.4 92.2917 34.8333 89.625 35.7C86.9583 36.5 84.6917 37.6333 82.825 39.1L76.425 26.2C79.425 24.2 83.0583 22.6667 87.325 21.6C91.6583 20.4667 95.9917 19.9 100.325 19.9ZM99.625 63.9C101.825 63.9 103.758 63.3667 105.425 62.3C107.092 61.2333 108.292 59.6667 109.025 57.6V52.9H100.825C95.2917 52.9 92.525 54.7333 92.525 58.4C92.525 60.0667 93.1583 61.4 94.425 62.4C95.6917 63.4 97.425 63.9 99.625 63.9ZM138.018 0.799996H157.018V75H138.018V0.799996ZM191.966 56L186.366 61.7V75H167.366V0.799996H186.366V39.7L205.766 20.8H228.266L205.766 44L230.166 75H207.166L191.966 56ZM298.422 72.8C296.822 73.8 294.855 74.5667 292.522 75.1C290.255 75.6333 287.822 75.9 285.222 75.9C278.155 75.9 272.722 74.1667 268.922 70.7C265.122 67.2333 263.222 62.0667 263.222 55.2V37H255.322V22.8H263.222V8.7H282.222V22.8H294.622V37H282.222V55C282.222 56.9333 282.722 58.4667 283.722 59.6C284.789 60.6667 286.189 61.2 287.922 61.2C290.122 61.2 292.055 60.6333 293.722 59.5L298.422 72.8ZM329.386 75.9C323.586 75.9 318.353 74.7 313.686 72.3C309.019 69.9 305.353 66.5667 302.686 62.3C300.086 58.0333 298.786 53.2 298.786 47.8C298.786 42.4667 300.086 37.6667 302.686 33.4C305.353 29.1333 308.986 25.8333 313.586 23.5C318.253 21.1 323.519 19.9 329.386 19.9C335.253 19.9 340.519 21.1 345.186 23.5C349.853 25.8333 353.486 29.1333 356.086 33.4C358.686 37.6 359.986 42.4 359.986 47.8C359.986 53.2 358.686 58.0333 356.086 62.3C353.486 66.5667 349.853 69.9 345.186 72.3C340.519 74.7 335.253 75.9 329.386 75.9ZM329.386 60.8C332.719 60.8 335.453 59.6667 337.586 57.4C339.719 55.0667 340.786 51.8667 340.786 47.8C340.786 43.8 339.719 40.6667 337.586 38.4C335.453 36.1333 332.719 35 329.386 35C326.053 35 323.319 36.1333 321.186 38.4C319.053 40.6667 317.986 43.8 317.986 47.8C317.986 51.8667 319.053 55.0667 321.186 57.4C323.319 59.6667 326.053 60.8 329.386 60.8ZM450.889 20.8V75H432.789V69.2C430.789 71.4 428.389 73.0667 425.589 74.2C422.789 75.3333 419.822 75.9 416.689 75.9C409.689 75.9 404.089 73.8333 399.889 69.7C395.756 65.5667 393.689 59.3667 393.689 51.1V20.8H412.689V48C412.689 52.0667 413.456 55.0333 414.989 56.9C416.522 58.7667 418.756 59.7 421.689 59.7C424.689 59.7 427.122 58.6667 428.989 56.6C430.922 54.4667 431.889 51.2333 431.889 46.9V20.8H450.889ZM480.827 75.9C476.294 75.9 471.827 75.4 467.427 74.4C463.027 73.3333 459.494 71.9667 456.827 70.3L462.527 57.3C464.994 58.8333 467.927 60.0667 471.327 61C474.727 61.8667 478.094 62.3 481.427 62.3C484.494 62.3 486.661 62 487.927 61.4C489.261 60.7333 489.927 59.8 489.927 58.6C489.927 57.4 489.127 56.5667 487.527 56.1C485.994 55.5667 483.527 55.0667 480.127 54.6C475.794 54.0667 472.094 53.3667 469.027 52.5C466.027 51.6333 463.427 50.0333 461.227 47.7C459.027 45.3667 457.927 42.1 457.927 37.9C457.927 34.4333 458.961 31.3667 461.027 28.7C463.094 25.9667 466.094 23.8333 470.027 22.3C474.027 20.7 478.794 19.9 484.327 19.9C488.261 19.9 492.161 20.3 496.027 21.1C499.894 21.9 503.127 23.0333 505.727 24.5L500.027 37.4C495.227 34.7333 490.027 33.4 484.427 33.4C481.427 33.4 479.227 33.7667 477.827 34.5C476.427 35.1667 475.727 36.0667 475.727 37.2C475.727 38.4667 476.494 39.3667 478.027 39.9C479.561 40.3667 482.094 40.8667 485.627 41.4C490.094 42.0667 493.794 42.8333 496.727 43.7C499.661 44.5667 502.194 46.1667 504.327 48.5C506.527 50.7667 507.627 53.9667 507.627 58.1C507.627 61.5 506.594 64.5667 504.527 67.3C502.461 69.9667 499.394 72.0667 495.327 73.6C491.327 75.1333 486.494 75.9 480.827 75.9Z"
                            fill="#FFFF00"/>
                    </svg>
                </div>}
                {isMobile && <div className="mt-20 mb-8 flex items-start justify-start ml-6 ">
                    <svg width="288" height="43" viewBox="0 0 288 43" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12.4837 11.592H0.443681V2.8H35.5557V11.592H23.5717V42H12.4837V11.592ZM49.522 11.144C54.562 11.144 58.4073 12.3013 61.058 14.616C63.7087 16.8933 65.034 20.4027 65.034 25.144V42H55.122V38.08C53.5913 41.0293 50.6047 42.504 46.162 42.504C43.81 42.504 41.7753 42.0933 40.058 41.272C38.3407 40.4507 37.034 39.3493 36.138 37.968C35.2793 36.5493 34.85 34.944 34.85 33.152C34.85 30.2773 35.9513 28.056 38.154 26.488C40.3567 24.8827 43.754 24.08 48.346 24.08H54.394C54.2073 20.8693 52.0607 19.264 47.954 19.264C46.498 19.264 45.0233 19.5067 43.53 19.992C42.0367 20.44 40.7673 21.0747 39.722 21.896L36.138 14.672C37.818 13.552 39.8527 12.6933 42.242 12.096C44.6687 11.4613 47.0953 11.144 49.522 11.144ZM49.13 35.784C50.362 35.784 51.4447 35.4853 52.378 34.888C53.3113 34.2907 53.9833 33.4133 54.394 32.256V29.624H49.802C46.7033 29.624 45.154 30.6507 45.154 32.704C45.154 33.6373 45.5087 34.384 46.218 34.944C46.9273 35.504 47.898 35.784 49.13 35.784ZM70.6301 0.447998H81.2701V42H70.6301V0.447998ZM100.841 31.36L97.7047 34.552V42H87.0647V0.447998H97.7047V22.232L108.569 11.648H121.169L108.569 24.64L122.233 42H109.353L100.841 31.36ZM160.456 40.768C159.56 41.328 158.459 41.7573 157.152 42.056C155.883 42.3547 154.52 42.504 153.064 42.504C149.107 42.504 146.064 41.5333 143.936 39.592C141.808 37.6507 140.744 34.7573 140.744 30.912V20.72H136.32V12.768H140.744V4.872H151.384V12.768H158.328V20.72H151.384V30.8C151.384 31.8827 151.664 32.7413 152.224 33.376C152.822 33.9733 153.606 34.272 154.576 34.272C155.808 34.272 156.891 33.9547 157.824 33.32L160.456 40.768ZM177.796 42.504C174.548 42.504 171.617 41.832 169.004 40.488C166.391 39.144 164.337 37.2773 162.844 34.888C161.388 32.4987 160.66 29.792 160.66 26.768C160.66 23.7813 161.388 21.0933 162.844 18.704C164.337 16.3147 166.372 14.4667 168.948 13.16C171.561 11.816 174.511 11.144 177.796 11.144C181.081 11.144 184.031 11.816 186.644 13.16C189.257 14.4667 191.292 16.3147 192.748 18.704C194.204 21.056 194.932 23.744 194.932 26.768C194.932 29.792 194.204 32.4987 192.748 34.888C191.292 37.2773 189.257 39.144 186.644 40.488C184.031 41.832 181.081 42.504 177.796 42.504ZM177.796 34.048C179.663 34.048 181.193 33.4133 182.388 32.144C183.583 30.8373 184.18 29.0453 184.18 26.768C184.18 24.528 183.583 22.7733 182.388 21.504C181.193 20.2347 179.663 19.6 177.796 19.6C175.929 19.6 174.399 20.2347 173.204 21.504C172.009 22.7733 171.412 24.528 171.412 26.768C171.412 29.0453 172.009 30.8373 173.204 32.144C174.399 33.4133 175.929 34.048 177.796 34.048ZM245.838 11.648V42H235.702V38.752C234.582 39.984 233.238 40.9173 231.67 41.552C230.102 42.1867 228.441 42.504 226.686 42.504C222.766 42.504 219.63 41.3467 217.278 39.032C214.963 36.7173 213.806 33.2453 213.806 28.616V11.648H224.446V26.88C224.446 29.1573 224.875 30.8187 225.734 31.864C226.593 32.9093 227.843 33.432 229.486 33.432C231.166 33.432 232.529 32.8533 233.574 31.696C234.657 30.5013 235.198 28.6907 235.198 26.264V11.648H245.838ZM262.603 42.504C260.065 42.504 257.563 42.224 255.099 41.664C252.635 41.0667 250.657 40.3013 249.163 39.368L252.355 32.088C253.737 32.9467 255.379 33.6373 257.283 34.16C259.187 34.6453 261.073 34.888 262.939 34.888C264.657 34.888 265.87 34.72 266.579 34.384C267.326 34.0107 267.699 33.488 267.699 32.816C267.699 32.144 267.251 31.6773 266.355 31.416C265.497 31.1173 264.115 30.8373 262.211 30.576C259.785 30.2773 257.713 29.8853 255.995 29.4C254.315 28.9147 252.859 28.0187 251.627 26.712C250.395 25.4053 249.779 23.576 249.779 21.224C249.779 19.2827 250.358 17.5653 251.515 16.072C252.673 14.5413 254.353 13.3467 256.555 12.488C258.795 11.592 261.465 11.144 264.563 11.144C266.766 11.144 268.95 11.368 271.115 11.816C273.281 12.264 275.091 12.8987 276.547 13.72L273.355 20.944C270.667 19.4507 267.755 18.704 264.619 18.704C262.939 18.704 261.707 18.9093 260.923 19.32C260.139 19.6933 259.747 20.1973 259.747 20.832C259.747 21.5413 260.177 22.0453 261.035 22.344C261.894 22.6053 263.313 22.8853 265.291 23.184C267.793 23.5573 269.865 23.9867 271.507 24.472C273.15 24.9573 274.569 25.8533 275.763 27.16C276.995 28.4293 277.611 30.2213 277.611 32.536C277.611 34.44 277.033 36.1573 275.875 37.688C274.718 39.1813 273.001 40.3573 270.723 41.216C268.483 42.0747 265.777 42.504 262.603 42.504Z" fill="#FFFF00"/>
                        <path d="M287.341 27.7259C287.311 28.7361 286.479 29.8378 284.555 30.9777C282.661 32.1 279.853 33.1718 276.2 34.1737C268.903 36.1754 258.353 37.8669 245.31 39.1658C219.231 41.7629 183.264 42.783 143.594 41.6074C103.924 40.4317 68.0811 37.2836 42.2018 33.1468C29.2586 31.0778 18.8273 28.7645 11.6607 26.334C8.0738 25.1176 5.33393 23.8814 3.50991 22.649C1.65713 21.3971 0.891398 20.2481 0.921335 19.2379C0.951272 18.2277 1.7837 17.1261 3.70737 15.9861C5.60116 14.8639 8.40943 13.7921 12.0621 12.7902C19.3601 10.7884 29.91 9.09692 42.953 7.79802C69.0319 5.20093 104.999 4.18089 144.668 5.3565C184.338 6.53211 220.181 9.68023 246.061 13.8171C259.004 15.8861 269.435 18.1994 276.602 20.6298C280.189 21.8462 282.929 23.0825 284.753 24.3149C286.605 25.5668 287.371 26.7157 287.341 27.7259Z" stroke="white"/>
                    </svg>
                </div>
                }
                <div className={isMobile ? "flex flex-col items-stretch justify-center": "w-6/12 flex flex-col items-stretch justify-center"}>
                    <div className="text-white ">
                        <form onSubmit={handleSubmit} className={isMobile ? "w-10/12 mx-auto" : "w-6/12 mx-auto" }>
                            <div className="mb-12">
                                <label htmlFor="email" className="block text-2xl mb-1">Your e-mail</label>
                                <input
                                    type="email"
                                    id="email"
                                    value={email}
                                    onChange={(e) => setEmail(e?.target?.value)}
                                    className="mt-1 p-2 w-full border focus:ring focus:ring-blue-300 bg-trsprnt"
                                    required
                                    placeholder='name@mail.com'
                                />
                            </div>
                            <div className="mb-10">
                                <label htmlFor="message" className="block text-2xl mb-1">How can we help you?</label>
                                <textarea
                                    placeholder='Let us know what you need'
                                    id="message"
                                    value={message}
                                    onChange={(e) => setMessage(e.target.value)}
                                    className="mt-1 p-2 w-full border focus:ring focus:ring-blue-300 bg-trsprnt pb-12"
                                    required
                                />
                            </div>
                            <div className="flex justify-start">
                                <PrimaryButton text='Submit' onClick={handleSubmit} />
                            </div>
                        </form>
                    </div>
                </div>
                {!isMobile && <div className='absolute left-0 right-0 bottom-0 uppercase mb-4 m-auto opacity-20 flex flex-row justify-center'>Copyright © 2023 Spade group. All rights reserved.</div>}
                {isMobile && <small className='ml-1 absolute left-0 right-0 bottom-0 uppercase mb-4 m-auto opacity-20 flex flex-row justify-center'>Copyright © 2023 Spade group. All rights reserved.</small>}
            </div>

        </section>
    );
};

export default TalkToUs;